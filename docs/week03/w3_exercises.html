<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jelmer Poelstra">
<meta name="dcterms.date" content="2025-09-08">

<title>PRACS25: Week 3 exercises – PRACS-AU25</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-57476271c5f0467c372e20ff5d25630e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-bdb0de5c748ca9949e0b531c91ee7ebd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">PRACS-AU25</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-week-overviews" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Week overviews</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-week-overviews">    
        <li>
    <a class="dropdown-item" href="../week01/w1_overview.html">
 <span class="dropdown-text">Week 1: Omics data and OSC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week02/w2_overview.html">
 <span class="dropdown-text">Week 2: Unix shell basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week03/w3_overview.html">
 <span class="dropdown-text">Week 3: Project organization and Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week04/w4_overview.html">
 <span class="dropdown-text">Week 4: Version control with Git and GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week05/w5_overview.html">
 <span class="dropdown-text">Week 5: Shell scripts and CLI tools</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week06/w6_overview.html">
 <span class="dropdown-text">Week 6: Data and software management at OSC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week07/w7_overview.html">
 <span class="dropdown-text">Week 7: Slurm batch jobs at OSC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week08/w8_overview.html">
 <span class="dropdown-text">Week 8: Using generative AI when coding</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week09/w9_overview.html">
 <span class="dropdown-text">Week 9: Automated pipelines with Nextflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week10/w10_overview.html">
 <span class="dropdown-text">Week 10: Building Nextflow pipelines</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week11/w11_overview.html">
 <span class="dropdown-text">Week 11: R – basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week12/w12_overview.html">
 <span class="dropdown-text">Week 12: R – data wrangling and visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week13/w13_overview.html">
 <span class="dropdown-text">Week 13: R – Quarto</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week14/w14_overview.html">
 <span class="dropdown-text">Week 14: R – omics data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week15/w15_overview.html">
 <span class="dropdown-text">Week 15: Nextflow nf-core pipelines</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-exercises" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-exercises">    
        <li>
    <a class="dropdown-item" href="../week03/w3_exercises.html">
 <span class="dropdown-text">Week 3: Project file organization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week06/w6_exercises.html">
 <span class="dropdown-text">Week 6: OSC data and software</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week08/w8_exercises.html">
 <span class="dropdown-text">Week 8: Using generative AI</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week09/w9_exercises.html">
 <span class="dropdown-text">Week 9: Nextflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week11/w11_exercises.html">
 <span class="dropdown-text">Week 11: R basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week12/w12_exercises.html">
 <span class="dropdown-text">Week 12: R data visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week13/w13_exercises.html">
 <span class="dropdown-text">Week 13: R for omics data</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Assignments</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">    
        <li class="dropdown-header">GRADED</li>
        <li>
    <a class="dropdown-item" href="../week02/w2_ga_shell.html">
 <span class="dropdown-text">1. Week 2: Shell basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week04/w4_ga_git.html">
 <span class="dropdown-text">2. Week 4: Markdown &amp; Git</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week05/w5_ga_shell-scripts.html">
 <span class="dropdown-text">3. Week 5: Shell scripting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week07/w7_ga_slurm.html">
 <span class="dropdown-text">4. Week 7: Slurm batch jobs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week10/w10_ga_nextflow.html">
 <span class="dropdown-text">5. Week 10: Nextflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week14/w14_ga_R.html">
 <span class="dropdown-text">6. Week 14: R</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">UNGRADED</li>
        <li class="dropdown-header">Week 1: Pre-course survey</li>
        <li>
    <a class="dropdown-item" href="../week01/w1_ua_osc-setup.html">
 <span class="dropdown-text">Week 1: OSC account setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../week03/w3_ua_github-account.html">
 <span class="dropdown-text">Week 3: GitHub account setup</span></a>
  </li>  
        <li class="dropdown-header">Week 16: Post-course survey</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-final-project" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Final project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-final-project">    
        <li class="dropdown-header">General info</li>
        <li class="dropdown-header">Checkpoint I: Proposal</li>
        <li class="dropdown-header">Checkpoint II: Oral presentation</li>
        <li class="dropdown-header">Checkpoint III: Final submission</li>
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bonus--overviews" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Bonus &amp; overviews</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bonus--overviews">    
        <li class="dropdown-header">BONUS MATERIAL</li>
        <li>
    <a class="dropdown-item" href="../ref/file-transfer.html">
 <span class="dropdown-text">Other OSC file transfer options</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">TOPIC OVERVIEWS</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-miscellaneous" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Miscellaneous</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-miscellaneous">    
        <li>
    <a class="dropdown-item" href="../ref/about.html">
 <span class="dropdown-text">About this website</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ref/readings.html">
 <span class="dropdown-text">Overview of course readings</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ref/resources.html">
 <span class="dropdown-text">Further learning resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ref/glossary.html">
 <span class="dropdown-text">Course glossary</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://osu.instructure.com/courses/163340"> 
<span class="menu-text"><i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://ondemand.osc.edu"> 
<span class="menu-text"><i class="fa-solid fa-desktop" aria-label="desktop"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/mcic-osu/pracs-au25">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/mcic-osu/pracs-au25/issues/new">
            Report an Issue
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exercise-1-course-notes-in-markdown" id="toc-exercise-1-course-notes-in-markdown" class="nav-link active" data-scroll-target="#exercise-1-course-notes-in-markdown">Exercise 1: Course notes in Markdown</a></li>
  <li><a href="#exercise-2-organize-project-files" id="toc-exercise-2-organize-project-files" class="nav-link" data-scroll-target="#exercise-2-organize-project-files">Exercise 2: Organize project files</a></li>
  <li><a href="#bonus-exercises" id="toc-bonus-exercises" class="nav-link" data-scroll-target="#bonus-exercises">Bonus exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">Exercise 3</a></li>
  <li><a href="#buffalo-chapter-3-code-along" id="toc-buffalo-chapter-3-code-along" class="nav-link" data-scroll-target="#buffalo-chapter-3-code-along">Buffalo Chapter 3 code-along</a></li>
  </ul></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions">Solutions</a>
  <ul class="collapse">
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">Exercise 2</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 3 exercises</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jelmer Poelstra </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 8, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<hr>
<p><br></p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>TODO - GET RID OF BRACE EXPANSION Instead, have students use pre-made files</p>
</div>
</div>
<section id="exercise-1-course-notes-in-markdown" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1-course-notes-in-markdown">Exercise 1: Course notes in Markdown</h2>
<p>Create a Markdown document with course notes. I recommend writing this document in <em>VS Code</em>.</p>
<p>Make notes of this week’s material in some detail. If you have notes from last week in another format, include those too. (And try to keep using this document throughout the course!)</p>
<p>Some pointers:</p>
<ul>
<li><p>Use several header levels and use them consistently: e.g.&nbsp;a level 1 header (<code>#</code>) for the document’s title, level 2 headers (<code>##</code>) for each week, and so on.</p></li>
<li><p>Though this should foremost be a <em>functional</em> document for notes, try to incorporate any appropriate formatting option: e.g.&nbsp;<strong>bold text</strong>, <em>italic text</em>, <code>inline code</code>, code blocks, ordered/unordered lists, and hyperlinks.</p></li>
<li><p>Make sure you understand and try out how Markdown deals with whitespace, e.g.&nbsp;starting a new paragraph and how to force a newline.</p></li>
</ul>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="exercise-2-organize-project-files" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2-organize-project-files">Exercise 2: Organize project files</h2>
<p><em>While doing this exercise, save the commands you use in a text document – either write in a text document in VS Code and send the commands to the terminal, or copy them into a text document later.</em></p>
<ol type="1">
<li><p><strong>Getting set up</strong><br>
Create a directory for this exercise, and change your working dir to go there. Do this within your personal dir in the course’s project dir (e.g.&nbsp;<code>/fs/ess/PAS2700/users/$USER/week02/ex2/</code>).</p></li>
<li><p><strong>Create a disorganized mock project</strong><br>
Using the <code>touch</code> command and brace expansions, create a mock project by creating 100s of empty files, either in a <em>single directory</em> or a <em>disorganized</em> directory structure.</p>
<p>If you want, you can create file types according to what you typically have in your project – otherwise, a suggestion is to create files with:</p>
<ul>
<li>Raw data (e.g.&nbsp;<code>.fastq.gz</code>)</li>
<li>Reference data (e.g.&nbsp;<code>.fasta</code>),</li>
<li>Metadata (e.g.&nbsp;<code>.txt</code> or <code>.csv</code>)</li>
<li>Processed data and results (e.g.&nbsp;<code>.bam</code>, <code>.out</code>)</li>
<li>Scripts (e.g.&nbsp;<code>.sh</code>, <code>.py</code> or <code>.R</code>)</li>
<li>Figures (e.g.&nbsp;<code>.png</code> or <code>.eps</code>)</li>
<li>Notes (<code>.txt</code> and/or <code>.md</code>)</li>
<li>Perhaps some other file type you usually have in your projects.</li>
</ul></li>
<li><p><strong>Organize the mock project</strong><br>
Organize the mock project according to some of the principles we discussed this week.</p>
<p>Even while adhering to these principles, there is plenty of wiggle room and no single perfect dir structure: what is optimal will depend on what works for you and on the project size and structure. Therefore, think about what makes sense to you, and what makes sense given the files you find yourself with.</p>
<p>Try to use as few commands as possible to move the files – use wildcards!</p></li>
<li><p><strong>Create mock “alignment” files</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<ul>
<li>Create a directory <code>alignment</code> inside an appropriate dir in your project (e.g.&nbsp;<code>analysis</code>, <code>results</code>)</li>
<li>Inside the <code>alignment</code> dir, create files with names like <code>sample01_A_08-14-2020.sam</code> - <code>sample50_H_09-16-2020.sam</code> for all combinations of:
<ul>
<li>30 samples (<code>01</code>-<code>30</code>)</li>
<li>5 treatments (<code>A</code>-<code>E</code>)</li>
<li>2 dates (<code>08-14-2020</code> and <code>09-16-2020</code> – yes, use this date format for now)</li>
</ul></li>
</ul>
<p>These 300 files can be created with a single <code>touch</code> command<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p></li>
</ol>
<details>
<summary>
Hints
</summary>
<p>Use brace expansion three times in the command: to expand (1) sample IDs, (2) treatments, and (3) dates.</p>
Note that <code>{01..20}</code> will successfully zero-pad single-digit numbers.
</details>
<ol start="5" type="1">
<li><p><strong>Rename files in a batch</strong><br>
Woops! We stored the alignment files that we created in the previous step as SAM files (<code>.sam</code>), but this was a mistake – the files are actually the binary counterparts of SAM files: BAM files (<code>.bam</code>).</p>
<p>Move into the dir with BAM files, and use a <code>for</code> loop to rename them, changing the extension from <code>.sam</code> to <code>.bam</code>.</p></li>
</ol>
<details>
<summary>
Hints
</summary>
<ul>
<li>Loop over the files using globbing (wildcard expansion) directly; there is no need to call <code>ls</code>.</li>
<li>Use the <code>basename</code> command, or alternatively, <code>cut</code>, to strip the extension.</li>
<li>Store the output of the <code>basename</code> (or <code>cut</code>) call using command substitution (<code>$(command)</code> syntax).</li>
<li>The new extension can simply be pasted behind the file name, like <code>newname="$filename_no_extension"bam</code> or <code>newname=$(basename ...)bam</code>.</li>
</ul>
</details>
<ol start="6" type="1">
<li><p><strong>Copy files with wildcards</strong><br>
Still in the dir with your SAM files, create a new dir called <code>subset</code>. Then, using a single <code>cp</code> command, copy files that satisfy the following conditions into the <code>subset</code> dir:</p>
<ul>
<li>The sample ID/number should be 01-19, and</li>
<li>The treatment should be A, B, or C.</li>
</ul>
<p>Create a <code>README.md</code> in the dir that explains what you did.</p></li>
</ol>
<details>
<summary>
Hints
</summary>
Just like you used multiple consecutive brace expansions above, you can use two consecutive wildcard character sets (<code>[]</code>) here.
</details>
<ol start="7" type="1">
<li><p><strong>Create a README</strong><br>
Include a project-wide <code>README.md</code> that described what you did. Again, try to get familiar with Markdown syntax by using formatting liberally.</p></li>
<li><p><strong>Bonus: a trickier renaming loop</strong><br>
You now realize that your date format is suboptimal (<code>MM-DD-YYYY</code>; which gave <code>08-14-2020</code> and <code>09-16-2020</code>) and that you should use the <code>YYYY-MM-DD</code> format. Use a <code>for</code> loop to rename the files.</p></li>
</ol>
<details>
<summary>
Hints
</summary>
<ul>
<li>Use <code>cut</code> to extract the three elements of the date (day, month, and year) on three separate lines.</li>
<li>Store the output of these lines in variables using commands substitution, like: <code>day=$(commands)</code>.</li>
<li>Finally, paste your new file name together like: <code>newname="$part1"_"$year"</code> etc.</li>
<li>When first writing your commands, it’s helpful to be able to experiment easily: start by echo-ing a single example file name, as in: <code>echo sample23_C_09-16-2020.sam | cut ...</code>.</li>
</ul>
</details>
<ol start="9" type="1">
<li><strong>Bonus: Change file permissions</strong><br>
Make sure no-one has write permissions for the raw data files, not even yourself. You can also change other permissions to what you think is reasonable or necessary precaution for your fictional project.</li>
</ol>
<details>
<summary>
Hints
</summary>
<p>Use the <code>chmod</code> command to change file permissions and recall that you can use wildcard expansion to operate on many files at once.</p>
<p>See <a href="w2_shellfiles.html#viewing-and-modifying-file-permissions">this Bonus section of the Managing files in the shell page</a> for an overview of file permissions and the <code>chmod</code> command.</p>
Alternatively, <code>chmod</code> also has an <code>-R</code> argument to act <strong>r</strong>ecursively: that is, to act on dirs and all of their contents (including other dirs and <em>their</em> contents).
</details>
<p><br></p>
</section>
<section id="bonus-exercises" class="level2">
<h2 class="anchored" data-anchor-id="bonus-exercises">Bonus exercises</h2>
<section id="exercise-3" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3">Exercise 3</h3>
<p>If you feel like it would be good to reorganize one of your own, real projects, you can do so using what you’ve learned this week. Make sure you create a backup copy of the entire project first!</p>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="buffalo-chapter-3-code-along" class="level3">
<h3 class="anchored" data-anchor-id="buffalo-chapter-3-code-along">Buffalo Chapter 3 code-along</h3>
<p>Move back to <code>/fs/ess/PAS1855/users/$USER</code> and download the repository accompanying the Buffalo book using <code>git clone https://github.com/vsbuffalo/bds-files.git</code>. Then, move into the new dir <code>bds-files</code>, and code along with Buffalo Chapter 3.</p>
<p><br></p>
</section>
</section>
<section id="solutions" class="level2">
<h2 class="anchored" data-anchor-id="solutions">Solutions</h2>
<section id="exercise-2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2">Exercise 2</h3>
<details>
<summary>
<strong>1.</strong> Getting set up
</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For example:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> /fs/ess/PAS2700/users/<span class="va">$USER</span>/week02/ex2</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /fs/ess/PAS2700/users/<span class="va">$USER</span>/week02/ex2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<strong>2.</strong> Create a disorganized mock project
</summary>
<p>An example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> sample<span class="dt">{</span><span class="dv">001</span><span class="dt">..</span><span class="dv">150</span><span class="dt">}</span>_<span class="dt">{F</span><span class="op">,</span><span class="dt">R}</span>.fastq.gz</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> ref.fasta ref.fai</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> sample_info.csv sequence_barcodes.txt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> sample<span class="dt">{</span><span class="dv">001</span><span class="dt">..</span><span class="dv">150</span><span class="dt">}{.bam</span><span class="op">,</span><span class="dt">.bam.bai</span><span class="op">,</span><span class="dt">_fastqc.zip</span><span class="op">,</span><span class="dt">_fastqc.html}</span> gene-counts.tsv DE-results.txt GO-out.txt</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> fastqc.sh multiqc.sh align.sh sort_bam.sh count1.py count2.py DE.R GO.R KEGG.R</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> Fig<span class="dt">{</span><span class="dv">01</span><span class="dt">..</span><span class="dv">05</span><span class="dt">}</span>.png all_qc_plots.eps weird-sample.png</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> dontforget.txt README.md README_DE.md tmp5.txt</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> slurm-84789570.out slurm-84789571.out slurm-84789572.out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<strong>3.</strong> Organize the mock project
</summary>
<p>An example:</p>
<ul>
<li><p>Create directories:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> data/<span class="dt">{fastq</span><span class="op">,</span><span class="dt">meta</span><span class="op">,</span><span class="dt">ref}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> results/<span class="dt">{bam</span><span class="op">,</span><span class="dt">counts</span><span class="op">,</span><span class="dt">DE</span><span class="op">,</span><span class="dt">enrichment</span><span class="op">,</span><span class="dt">logfiles</span><span class="op">,</span><span class="dt">qc/figures}</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> scripts</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> figures/<span class="dt">{ms</span><span class="op">,</span><span class="dt">sandbox}</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> doc/misc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Move files:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>fastq.gz data/fastq/</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> ref.fa<span class="pp">*</span> data/ref/</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> sample_info.csv sequence_barcodes.txt data/meta/</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>.bam <span class="pp">*</span>.bam.bai results/bam/</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>fastqc<span class="pp">*</span> results/qc/</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> gene-counts.tsv results/counts/</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> DE-results.txt results/DE/</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> GO-out.txt results/enrichment/</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>.sh <span class="pp">*</span>.R <span class="pp">*</span>.py scripts/</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> README_DE.md results/DE/</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> Fig<span class="pp">[</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">][</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">]*</span> figures/ms</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> weird-sample.png figures/sandbox</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> all_qc_plots.eps results/qc/figures/</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> dontforget.txt tmp5.txt doc/misc/</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> slurm<span class="pp">*</span> results/logfiles/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</details>
<details>
<summary>
<strong>4.</strong> Create mock alignment files
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> results/alignment</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> results/alignment </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the files:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> sample<span class="dt">{</span><span class="dv">01</span><span class="dt">..</span><span class="dv">30</span><span class="dt">}</span>_<span class="dt">{</span>A<span class="dt">..</span>E<span class="dt">}</span>_<span class="dt">{08-14-2020</span><span class="op">,</span><span class="dt">09-16-2020}</span>.sam</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if we have 300 files:</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>300</code></pre>
</details>
<details>
<summary>
<strong>5.</strong> Rename files in a batch
</summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> oldname <span class="kw">in</span> <span class="pp">*</span>.sam<span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>   <span class="va">newname</span><span class="op">=</span><span class="va">$(</span><span class="fu">basename</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> sam<span class="va">)</span>bam</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mv</span> <span class="at">-v</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> <span class="st">"</span><span class="va">$newname</span><span class="st">"</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the code above:</p>
<ul>
<li><code>$oldname</code> will contain the old file name in each iteration of the loop.</li>
<li>We remove the <code>sam</code> suffix using <code>basename "$oldname" sam</code>.</li>
<li>We use command substitution (<code>$()</code> syntax) to catch the output of the <code>basename</code> command, and paste <code>bam</code> at the end.</li>
</ul>
<p>Also, note that:</p>
<ul>
<li>We don’t need a special construction to paste strings together: we simply type <code>bam</code> after what will be the extension-less file name from the <code>basename</code> command.</li>
<li>I used informative variable names (<code>oldname</code> and <code>newname</code>), not cryptic ones like <code>i</code> and <code>o</code>.</li>
</ul>
</details>
<details>
<summary>
<strong>6.</strong> Copy files with wildcards
</summary>
<ul>
<li><p>Create the new dir:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> subset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Copy the files using four consecutive wildcard selections:</p>
<ul>
<li>The first digit should be a 0 or a 1 <code>[01]</code> (or <code>[0-1]</code>),</li>
<li>The second can be any number <code>[0-9]</code> (<code>?</code> would work, too),</li>
<li>The third, after an underscore, should be A, B, or C <code>[A-C]</code>,</li>
<li>We don’t care about what comes after that, but do need to account for the additional characters, so will use a <code>*</code> to match any character:</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-v</span> sample<span class="pp">[</span><span class="ss">01</span><span class="pp">][</span><span class="ss">0</span><span class="pp">-</span><span class="ss">9</span><span class="pp">]</span>_<span class="pp">[</span><span class="ss">A</span><span class="pp">-</span><span class="ss">C</span><span class="pp">]*</span> subset/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>‘sample01_A_08-14-2020.bam’ -&gt; ‘subset/sample01_A_08-14-2020.bam’
‘sample01_A_09-16-2020.bam’ -&gt; ‘subset/sample01_A_09-16-2020.bam’
‘sample01_B_08-14-2020.bam’ -&gt; ‘subset/sample01_B_08-14-2020.bam’
‘sample01_B_09-16-2020.bam’ -&gt; ‘subset/sample01_B_09-16-2020.bam’
‘sample01_C_08-14-2020.bam’ -&gt; ‘subset/sample01_C_08-14-2020.bam’
‘sample01_C_09-16-2020.bam’ -&gt; ‘subset/sample01_C_09-16-2020.bam’
‘sample02_A_08-14-2020.bam’ -&gt; ‘subset/sample02_A_08-14-2020.bam’
# [...output truncated...]</code></pre></li>
<li><p>Report what we did, including a command substitution to insert the current date:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"On </span><span class="va">$(</span><span class="fu">date</span><span class="va">)</span><span class="st">, created a dir 'subset' and copied only files for samples 1-29</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="st">and treatments A-C into this dir."</span> <span class="op">&gt;</span> subset/README.md</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check the resulting README files:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> subset/README.md</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>On Mon Mar 18 10:07:17 EDT 2024, created a dir 'subset' and copied only files for samples 1-29
and treatments A-C into this dir.</code></pre></li>
</ul>
</details>
<details>
<summary>
<strong>8.</strong> Bonus: a trickier renaming loop
</summary>
<ul>
<li>In the loop, first use <code>cut</code> to extract the month, day, and year:
<ul>
<li>Start by extracting the entire date: cut by an <code>_</code> and take the third item (<code>cut -d "_" -f 3</code>).</li>
<li>Then extract the different components of the date separately for month, date, and year, with <code>cut -d "-"</code>: the first item is the month, the second is the day, and the third is the year.</li>
<li>Save these compoinents of the date in variables using command substitution (<code>$()</code>).</li>
</ul></li>
<li>Second, use <code>cut</code> to extract what we may call the “sample prefix”, which contains the sample number and the treatment.</li>
<li>Third, build the new file name simply by putting the variables in the right order with <code>_</code> and <code>-</code> delimiters.</li>
<li>Use <code>mv</code> to rename the files — below, I’ve added <code>-v</code> for verbose so it will report what it does.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> oldname <span class="kw">in</span> <span class="pp">*</span>.bam<span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Extract and store the month, day, and year:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>     <span class="co"># (First cut by '_' taking the 3rd item, then by '-')</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>     <span class="va">month</span><span class="op">=</span><span class="va">$(</span><span class="bu">echo</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"_"</span> <span class="at">-f</span> 3 <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"-"</span> <span class="at">-f</span> 1<span class="va">)</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>     <span class="va">day</span><span class="op">=</span><span class="va">$(</span><span class="bu">echo</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"_"</span> <span class="at">-f</span> 3 <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"-"</span> <span class="at">-f</span> 2<span class="va">)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>     <span class="va">year</span><span class="op">=</span><span class="va">$(</span><span class="fu">basename</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> .bam <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"_"</span> <span class="at">-f</span> 3 <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"-"</span> <span class="at">-f</span> 3<span class="va">)</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Extract and store the sample prefix:</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>     <span class="va">sample_prefix</span><span class="op">=</span><span class="va">$(</span><span class="bu">echo</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"_"</span> <span class="at">-f</span> 1-2<span class="va">)</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Paste together the new name:</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>     <span class="va">newname</span><span class="op">=</span><span class="st">"</span><span class="va">$sample_prefix</span><span class="st">"</span>_<span class="st">"</span><span class="va">$year</span><span class="st">"</span>-<span class="st">"</span><span class="va">$month</span><span class="st">"</span>-<span class="st">"</span><span class="va">$day</span><span class="st">"</span>.bam</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Execute the move:</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mv</span> <span class="at">-v</span> <span class="st">"</span><span class="va">$oldname</span><span class="st">"</span> <span class="st">"</span><span class="va">$newname</span><span class="st">"</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>‘sample01_A_08-14-2020.bam’ -&gt; ‘sample01_A_2020-08-14.bam’
‘sample01_A_09-16-2020.bam’ -&gt; ‘sample01_A_2020-09-16.bam’
‘sample01_B_08-14-2020.bam’ -&gt; ‘sample01_B_2020-08-14.bam’
‘sample01_B_09-16-2020.bam’ -&gt; ‘sample01_B_2020-09-16.bam’
‘sample01_C_08-14-2020.bam’ -&gt; ‘sample01_C_2020-08-14.bam’
‘sample01_C_09-16-2020.bam’ -&gt; ‘sample01_C_2020-09-16.bam’
‘sample01_D_08-14-2020.bam’ -&gt; ‘sample01_D_2020-08-14.bam’
‘sample01_D_09-16-2020.bam’ -&gt; ‘sample01_D_2020-09-16.bam’
‘sample01_E_08-14-2020.bam’ -&gt; ‘sample01_E_2020-08-14.bam’
# [...output truncated...]</code></pre>
</details>
<details>
<summary>
<strong>9.</strong> Change file permissions
</summary>
<p>Before we start, let’s check the current file permissions:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-lh</span> data/fastq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>ls -lh data/fastq/ | head
total 0
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample001_F.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample001_R.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample002_F.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample002_R.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample003_F.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample003_R.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample004_F.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample004_R.fastq.gz
-rw-rw----+ 1 jelmer PAS0471 0 Mar 18 10:19 sample005_F.fastq.gz</code></pre>
<p>The file “owner”/“user” (you) and the “group” (in this case, PAS0471, likely a different group for you) have read and write permissions, and “others” have no permissions at all.</p>
<p>There are several different ways to change permissions with the <code>chmod</code> command. Here are some examples which would ensure that no-one has write permission for the raw data:</p>
<ul>
<li><p>Set read(-only) permissions for all:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a=r =&gt; all=read</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> a=r data/fastq/<span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Take away write permissions for all:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a-w =&gt; all minus write</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> a-w data/fastq/<span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>You can also use the “numeric” syntax:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 444 data/fastq/<span class="pp">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<p>Whereas after running the second option, others won’t have read-access, the first and third option should give this result:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-lh</span> data/fastq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="bash-out"><code>ls -lh data/fastq/ | head
total 0
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample001_F.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample001_R.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample002_F.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample002_R.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample003_F.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample003_R.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample004_F.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample004_R.fastq.gz
-r--r--r--+ 1 jelmer PAS0471 0 Mar 18 10:19 sample005_F.fastq.gz</code></pre>
</details>


</section>
</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Real alignment files like SAM/BAM are generated by aligning FASTQ sequence reads to a reference genome.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p> If you already happened to have an <code>alignment</code> dir among your mock project dirs, first delete its contents or rename it.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mcic-osu\.github\.io\/pracs-au25");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>2025, Jelmer Poelstra</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mcic-osu/pracs-au25">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>